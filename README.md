# Media Corruptor - 媒体文件部分损坏工具

## 概述

Media Corruptor 是一个专业的 Python 工具包，专门用于对音频和视频文件进行可控的部分损坏处理。与完全破坏文件不同，此工具会智能地修改文件的特定部分，使文件仍然可以被媒体播放器识别和播放，但在播放过程中会出现各种异常效果，如花屏、卡顿、爆音等。

## 功能特点

- **智能损坏**：跳过文件头部关键信息，确保文件仍可被播放器识别
- **可控损坏级别**：支持 0.1% 到 10% 的可调节损坏程度
- **多格式支持**：适用于 MP4、AVI、MKV、MP3、WAV 等多种媒体格式
- **安全操作**：自动确保输出文件与输入文件不同，防止原始文件被意外覆盖
- **进度显示**：实时显示处理进度，方便监控大文件处理状态

## 安装方法

```bash
# 从源代码安装
git clone https://github.com/ciallo0721-cmd/Media-Corruptor.git
cd media_corruptor
pip install .
```

## 使用方法

### 命令行方式

```bash
# 基本使用（默认损坏级别1%）
corrupt-media "input_video.mp4"

# 指定输出文件
corrupt-media "input_video.mp4" -o "corrupted_video.mp4"

# 指定更高的损坏级别（5%）
corrupt-media "input_video.mp4" -l 0.05

# 处理音频文件
corrupt-media "audio_file.mp3" -l 0.02
```

### Python API 方式

```python
from media_corruptor import corrupt_media_file

# 损坏媒体文件
result = corrupt_media_file(
    "input.mp4", 
    "output_corrupted.mp4", 
    0.03  # 3% 损坏级别
)

if result:
    print(f"成功创建损坏文件: {result}")
```

## 参数说明

- `input`: 输入文件路径（必需）
- `-o, --output`: 输出文件路径（可选，默认在原文件名后加"_corrupted"）
- `-l, --level`: 损坏程度（0.001-0.1，默认0.01）

## 应用场景

1. **软件测试**：测试媒体播放器对损坏文件的容错能力和恢复能力
2. **艺术创作**：创建具有特殊视觉效果或声音效果的媒体文件
3. **教育演示**：展示文件损坏对媒体播放的影响
4. **数据恢复研究**：测试数据恢复工具对部分损坏媒体的恢复效果

## 技术原理

Media Corruptor 采用智能字节修改技术：
1. 跳过文件头部关键元数据区域，确保文件可被识别
2. 随机选择文件中后部分的字节进行位翻转操作
3. 保持文件整体结构完整，只修改内容数据部分

## 注意事项

- 建议始终在文件副本上操作，避免意外损坏原始文件
- 损坏效果取决于具体播放器的容错能力，不同播放器可能表现不同
- 较高的损坏级别可能导致文件完全无法播放
- 支持大多数常见媒体格式，但某些特殊编码格式可能表现不一致

## 支持与反馈

如果您在使用过程中遇到任何问题或有功能建议，请通过项目仓库提交问题报告。我们将持续改进此工具，以满足更多专业需求。

---

Media Corruptor 为媒体处理专业人士、软件测试人员和多媒体研究人员提供了一个简单而强大的工具，用于创建可控的部分损坏媒体文件，助力于各种测试和创意工作流程。
